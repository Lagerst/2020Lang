# Computer Network

## OSI七层模型与TCP/IP五层模型

![OSI参考模型](Resources/OSI.png "OSI参考模型")

### 应用层

OSI参考模型中最靠近用户的一层，是为计算机用户提供应用接口，也为用户直接提供各种网络服务。

商业报价单，就是应用层提供的一种网络服务，当然，也可以选择其他服务，比如说，发一份商业合同，发一份询价单等等。

#### 常用应用层协议

| 协议名 | 协议用途 |
|  ---- | ----  |
| HTTP | 缺省TCP80端口 |
| HTTPS | 缺省TCP443端口，在普通的HTTP与TCP层之间多了一个安全加密的夹层，称之为SSL |
| DNS |用于解析域名与IP地址的基于UDP/TCP 应用层协议 |
| DHCP | 用于主机动态获取IP地址、缺省网关、DNS服务器等参数的基于UDP 应用层协议 |
| NFS | 用于Unix / Linux 文件共享，基于UDP/TCP协议 |
| NTP | 用于时钟同步的基于UDP的应用层协议 |
| SMTP | 用于邮件发送的基于TCP的应用层协议 |
| POP3 | 用于邮件接收的基于TCP的应用层协议 |
| FTP -> SFTP | 文件传输协议，SFTP协议是在FTP的基础上对数据进行加密，SFTP是SSH（缺省端口22）的一部分 |
| TELNET -> SSH | telnet 是明码传输的，发送的数据被监听后不需要解密就能看到内容；ssh 是加密的，基于 SSL |

### 表示层

表示层提供各种用于应用层数据的编码和转换功能,确保一个系统的应用层发送的数据能被另一个系统的应用层识别。如果必要，该层可提供一种标准表示形式，用于将计算机内部的多种数据格式转换成通信中采用的标准表示形式。数据压缩和加密也是表示层可提供的转换功能之一。

由于公司A和公司B是不同国家的公司，他们之间的商定统一用英语作为交流的语言，所以此时表示层（公司的文秘），就是将应用层的传递信息转翻译成英语。同时为了防止别的公司看到，公司A的人也会对这份报价单做一些加密的处理。这就是表示的作用，将应用层的数据转换翻译等。

### 会话层

会话层就是负责建立、管理和终止表示层实体之间的通信会话。该层的通信由不同设备中的应用程序之间的服务请求和响应组成。

会话层的同事拿到表示层的同事转换后资料，（会话层的同事类似公司的外联部），会话层的同事那里可能会掌握本公司与其他好多公司的联系方式，这里公司就是实际传递过程中的实体。他们要管理本公司与外界好多公司的联系会话。当接收到表示层的数据后，会话层将会建立并记录本次会话，他首先要找到公司B的地址信息，然后将整份资料放进信封，并写上地址和联系方式。准备将资料寄出。等到确定公司B接收到此份报价单后，此次会话就算结束了，外联部的同事就会终止此次会话。

### 传输层

传输层建立了主机端到端的链接，传输层的作用是为上层协议提供端到端的可靠和透明的数据传输服务，包括处理差错控制和流量控制等问题。该层向高层屏蔽了下层数据通信的细节，使高层用户看到的只是在两个传输实体间的一条主机到主机的、可由用户控制和设定的、可靠的数据通路。我们通常说的，TCP UDP就是在这一层。端口号既是这里的"端"。

传输层就相当于公司中的负责快递邮件收发的人，公司自己的投递员，他们负责将上一层的要寄出的资料投递到快递公司或邮局。

| 协议名 | 协议用途 |
|  ---- | ----  |
| TCP | 面向连接，三次握手 |
| UDP | 无连接 |

### 网络层

本层通过IP寻址来建立两个节点之间的连接，为源端的运输层送来的分组，选择合适的路由和交换节点，正确无误地按照地址传送给目的端的运输层。就是通常说的IP层。这一层就是我们经常说的IP协议层。IP协议是Internet的基础。

网络层就相当于快递公司庞大的快递网络，全国不同的集散中心，比如说，从深圳发往北京的顺丰快递（陆运为例啊，空运好像直接就飞到北京了），首先要到顺丰的深圳集散中心，从深圳集散中心再送到武汉集散中心，从武汉集散中心再寄到北京顺义集散中心。这个每个集散中心，就相当于网络中的一个IP节点。

| 协议名 | 协议用途 |
|  ---- | ----  |
| IP | 负责分配IP地址，提供路由 |
| ARP | 地址解析协议，将IP地址转换为物理地址 |
| ICMP | 为了提高IP数据报成功交付的机会，在IP数据报传输的过程中进行差错报告和查询，比如目的主机或网络不可到达，报文被丢弃，路由阻塞，查询目的网络是否可以到达等等 |

注： ping是应用层直接使用网络层ICMP的一个特例，它没有通过运输层的TCP或UDP

### 数据链路层

将比特组合成字节,再将字节组合成帧,使用链路层地址 (以太网使用MAC地址)来访问介质,并进行差错检测。

数据链路层又分为2个子层：逻辑链路控制子层（LLC）和媒体访问控制子层（MAC）。MAC子层处理CSMA/CD算法、数据出错校验、成帧等；LLC子层定义了一些字段使上次协议能共享数据链路层。
*在实际使用中，LLC子层并非必需的。*

### 物理层

实际最终信号的传输是通过物理层实现的。通过物理介质传输比特流。规定了电平、速度和电缆针脚。常用设备有（各种物理设备）集线器、中继器、调制解调器、网线、双绞线、同轴电缆。这些都是物理层的传输介质。

快递寄送过程中的交通工具，就相当于我们的物理层，例如汽车，火车，飞机，船。

![TCP参考模型](Resources/TCP.png "TCP参考模型")

## TCP协议和UDP协议

| 类型 | 协议名 |
| TCP | FTP Telnet SMTP HTTP POP3 DNS |
| UDP | TFTP SNMP DHCP DNS |

### TCP协议

#### TCP如何保证可靠传输，拥塞控制过程
https://blog.csdn.net/caoyan_12727/article/details/52081329

#### TCP为什么三次握手

#### TCP问什么四次挥手

### UDP协议

### 综合

##  HTTP

###  HTTP1.0、1.1、2.0之间的区别

###  HTTP与HTTPS之间的区别，HTTPS链接建立的过程

###  对称加密算法和非对称加密算法

###  HTTP请求种类

###  HTTP常见响应状态码

###  重定向和转发

###  cookie和session